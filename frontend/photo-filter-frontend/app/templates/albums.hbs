<h1 class="text-2xl font-bold mb-4">Albums</h1>

<ul>
  {{#each this.model as |album|}}
    <li class="flex items-center space-x-2 group py-1">
      <LinkTo
        @route="albums.album"
        @model={{album.id}}
        class="underline-offset-2 group-hover:underline"
      >
        {{album.title}}
      </LinkTo>

      {{! Replace direct staleAlbums.has(...) call with our isStale helper }}
      {{#if (this.isStale album.id)}}
        <button
          type="button"
          class="text-sm opacity-0 group-hover:opacity-100 transition"
          {{on "click" (fn this.refreshAlbum album.id)}}
          title="Refresh"
        >
          â†»
        </button>
      {{/if}}
    </li>
  {{/each}}
</ul>