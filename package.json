{
  "name": "photo-filter-monorepo",
  "version": "1.0.0",
  "description": "A monorepo containing both the Photo Filter backend (Express.js) and frontend (Ember.js).",
  "private": true,
  "scripts": {
    "build": "npm run build:backend && npm run build:frontend",
    "build:backend": "npm --prefix backend run build || echo 'No build script for backend'",
    "build:frontend": "npm --prefix frontend/photo-filter-frontend run build",
    "start": "concurrently \"npm run start:backend\" \"npm run start:frontend\"",
    "start:backend": "npm --prefix backend run dev",
    "start:frontend": "npm --prefix frontend/photo-filter-frontend run start",
    "test": "npm run test:backend && npm run test:frontend",
    "test:backend": "npm --prefix backend run test",
    "test:frontend": "npm --prefix frontend/photo-filter-frontend run test",
    "lint": "npm run lint:backend && npm run lint:frontend",
    "lint:backend": "npm --prefix backend run lint || echo 'No lint script for backend'",
    "lint:frontend": "npm --prefix frontend/photo-filter-frontend run lint",
    "generate-overview": "bash generate-overview.sh",
    "bootstrap:dev": "bash scripts/dev_bootstrap.sh",
    "build:filename-index": "bash -lc 'P=backend/venv/bin/python3; [ -x \"$P\" ] || P=$(command -v python3); T=\"$FILENAME_TEMPLATE\"; J=\"$JPEG_EXT\"; ARGS=(scripts/build_filename_index.py --output backend/data/library/filename-index.json); if [ -n \"$T\" ]; then ARGS+=(--template \"$T\"); fi; if [ -n \"$J\" ]; then ARGS+=(--jpeg-ext \"$J\"); fi; \"$P\" \"${ARGS[@]}\"'",
    "super-dev": "npm run bootstrap:dev && concurrently -n BACKEND,FRONTEND,TEST-BE,TEST-FE,OVERVIEW -c cyan,green,yellow,magenta,blue \"bash -lc 'PYTHON_BIN=$(pwd)/backend/venv/bin/python3 FILENAME_TEMPLATE='\"'\"'{created.utc.strftime,%Y%m%dT%H%M%S%fZ}-{original_name}{ext}'\"'\"' OSXPHOTOS_BIN=$(pwd)/backend/venv/bin/osxphotos npm run watch:backend'\" \"npm run watch:frontend\" \"npm run watch:test:backend\" \"npm run watch:test:frontend\" \"npm run watch:overview\"",
    "check:docs": "node scripts/check_template_consistency.mjs",
    "precommit": "npm run check:docs",
    "watch:backend": "nodemon --watch backend --ignore backend/data --ext js,ts,hbs,sh,md --exec \"npm run start:backend\"",
    "watch:frontend": "npm --prefix frontend/photo-filter-frontend run start",
    "watch:test:backend": "npm exec -w backend jest -- --watch || echo 'No watch test script for backend'",
    "watch:test:frontend": "npm --prefix frontend/photo-filter-frontend run test:ember -- --server",
    "watch:overview": "nodemon --watch backend --watch frontend --ext js,ts,hbs,sh,md --ignore project-overview.txt --exec \"npm run generate-overview\""
  },
  "workspaces": [
    "backend",
    "frontend/photo-filter-frontend"
  ],
  "devDependencies": {
    "concurrently": "^8.2.2",
    "nodemon": "^3.0.0"
  },
  "dependencies": {
    "exiftool-vendored": "^30.2.0",
    "fast-glob": "^3.3.3",
    "hash-sum": "^2.0.0",
    "luxon": "^3.6.1"
  }
}